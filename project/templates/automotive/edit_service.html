{% extends 'automotive/autos_base.html' %}
{% block title %}Edit Service{% endblock %}
{% block body %}
{% load static %}
<div class="container">
    <header class="page-heading">
        <h1>Edit Service</h1>
    </header>
    <hr>
    <form class="form" method="POST">
        {%csrf_token%}
        <div class="form-group">
            <div class="row">
                <div class="col-sm-3">
                    <label for="service_date">Service Date:</label>
                    {% if service %}
                    <input
                        type="date"
                        class="form-control form-control-sm"
                        id="service_date"
                        name="service_date"
                        required="true"
                        value='{{service.service_date|date:"Y-m-d"}}'
                    />
                    {% endif %}
                </div>
                <div class="col-sm-9">
                    <label for="Dropbox Link">Dropbox Link:</label>
                    {% if service %}
                    <input
                        class="form-control form-control-sm"
                        type="text"
                        id="link"
                        name="link"
                        value="{{service.link}}"
                    />
                    {% endif %}
                </div>
            </div> <!-- end row -->
            <div class="row">
                <div class="col-sm-6">
                    <label for="make">Make</label>
                    {% if service %}
                    <select
                        class="form-control form-control-sm"
                        id="make"
                        name="make"
                        required="true"
                    />
                        <option
                        selected="true"
                        value="{{service.make.pk}}"
                        >
                            {{service.make}}
                        </option>
                        {% for vehicle in vehicles %}
                        <option value="{{ vehicle.id}}">
                            {{ vehicle.year}} {{ vehicle.make}} {{ vehicle.model}}
                            </option>
                        {% endfor %}
                    </select>
                    {% endif %}
                </div>
                <div class="col-sm-6">
                        <label for="dealership">Dealership</label>
                        {% if service %}
                        <select
                            class="form-control form-control-sm"
                            id="dealership"
                            name="dealership"
                            required="true"
                        />
                            <option
                            selected="true"
                            value="{{service.dealership.pk}}"
                            >
                                {{service.dealership}}
                            </option>
                            {% for dealership in dealerships %}
                            <option value="{{ dealership.id}}">
                                {{ dealership.name}}
                                </option>
                            {% endfor %}
                        </select>
                        {% endif %}
                    </div>
                    </div>  <!-- end row -->
                    <div class="row">
                        <div class="col-sm-12">
                            <label for="work_performed">Work Performed:</label>
                            {% if service %}
                            <textarea
                                class="form-control form-control-sm textarea"
                                id="work_performed"
                                name="work_performed"
                                row="10"
                                required="true"
                            />{{service.work_performed}}
                            </textarea>
                            {% endif %}
                        </div>
                        </div>  <!-- end row -->
                        <div class="row">
                            <div class="col-sm-6">
                                    <label for="service_advisor">Service Advisor:</label>
                                    {% if service %}
                                    <select
                                        class="form-control form-control-sm"
                                        id="service_advisor"
                                        name="service_advisor"
                                        required="true"
                                    />
                                        <option
                                        selected="true"
                                        value="{{service.service_advisor.pk}}"
                                        >
                                            {{service.service_advisor}}
                                        </option>
                                        {% for advisor in advisors %}
                                        <option value="{{ advisor.id}}">
                                            {{ advisor.first_name}} {{advisor.last_name}}
                                            </option>
                                        {% endfor %}
                                    </select>
                                    {% endif %}
                            </div>
                            <div class="col-sm-3">
                                    <label for="mileage">Mileage:</label>
                                    {% if service %}
                                    <input
                                        type="number"
                                        class="form-control form-control-sm"
                                        id="mileage"
                                        name="mileage"
                                        required="true"
                                        value="{{service.mileage}}"
                                    />
                                    {% endif %}
                            </div>
                            <div class="col-sm-3">
                                    <label for="cost">Service Cost:</label>
                                    <div class="input-group-append input-group-sm">
                                        <span class="form-control-sm input-group-text input-group-sm">$</span>
                                    {% if service %}
                                    <input
                                        type="number"
                                        class="form-control form-control-sm"
                                        id="cost"
                                        name="cost"
                                        required="true"
                                        step=".01"
                                        value="{{service.cost}}"
                                    />
                                    {% endif %}
                                </div>
                            </div>
                        </div>  <!-- end row -->
                        <div class="row">
                        <div class="col-sm-12">
                            <label for="comments">Comments:</label>
                            {% if service %}
                            <textarea
                                class="form-control form-control-sm textarea"
                                id="comments"
                                name="comments"
                                row="10"
                            />{{service.comments}}
                            </textarea>
                            {% endif %}
                        </div>
                    </div> <!-- end row -->
                </div> <!-- end form group -->
                <br>
                <div class="form-group">
                    <button
                        class="btn btn-sm btn-primary"
                        id="add_svc_btn"
                        type="submit"
                        >
                            Submit
                    </button>
                    <button
                        class="btn btn-sm btn-secondary"
                        onclick="javascript:history.back()"
                    >
                        Cancel
                    </button>
                </div>
    </form>
</div>
{% endblock %}
